# RaspberryPie-with-STM32
Raspberry pie communicates with STM32
我最近自学了嵌入式 AI 相关知识，结合之前学完的江科协的 STM32 以及自学 FreeRTOS，把它们拿来揉一揉，虽然整体难度不算高，但也算初步打通了从 AI 部署到 STM32 通信以及运用上 FreeRTOS 的流程。在视觉方面，选用 YOLOv5 这一目标检测模型，先经 TensorFlow-Lite 进行量化，再部署到树莓派中，树莓派在进行视频检测时，STM32 与之通过串口通信，当 STM32 的按键按下发出信号，树莓派就会将当前帧检出的目标数量发送过来，此数据会在 STM32 的 OLED 上显示，并且在 STM32 中运用了 FreeRTOS，设置了三个任务，第一个任务是让 LED0 持续处于呼吸灯状态，同时其还要获取接收数据时释放的信号量，第二个任务是专门检测按键是否按下，按下时就释放通信任务的信号量，第三个任务则是接收通信信号量后，开启通信任务，向树莓派发送关键词，接收树莓派返回的数据，同时释放 LED1 任务的信号量。目前通过 TensorFlow 的量化，树莓派的推理帧率只有 2FPS，不过也基本达到了可用状态，接下来我打算要么去研究 YOLOv5 网络模型的轻量化，进一步提升帧率，要么去做 STM32 对应的控制功能拓展，让项目有更丰富的功能表现。
